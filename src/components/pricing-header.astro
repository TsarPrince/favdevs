---
import Sectionhead from "@components/sectionhead.astro";
import Pricing from "@components/pricing.astro";
import { sanityClient } from "sanity:client";

const pricing = await sanityClient.fetch(`*[_type == "pricing"]{
  heading,
  subHeading,
  plans[] {
    name,
    description,
    price,
    features,
    popular,
    button->{ text, path }
  }
}[0]`);
// console.log(JSON.stringify(pricing, null, 2));

// const pricing = [
//   {
//     name: "Local SEO",
//     price: "49",
//     desc: "SEO Package designed for small business with a single niche service provider.",
//     color: "indigo",
//     popular: false,
//     features: [
//       "Lifetime free",
//       "Up to 3 users",
//       "Unlimited Pages",
//       "Astro Sub domain",
//       "Basic Integrations",
//       "Community Support",
//     ],
//     button: {
//       text: "Get Started",
//       link: "/",
//     },
//   },
//   {
//     name: "National SEO",
//     price: "149",
//     desc: "SEO Package designed for small business with a single niche service provider.",
//     popular: true,
//     color: "orange",
//     features: [
//       "All Free Features",
//       "Up to 20 users",
//       "20 Custom domains",
//       "Unlimited Collaborators",
//       "Advanced Integrations",
//       "Priority Support",
//     ],
//     button: {
//       text: "Get Started",
//       link: "#",
//     },
//   },
//   {
//     name: "E-commerce SEO",
//     price: null,
//     desc: "SEO Package designed for small business with a single niche service provider.",
//     popular: false,
//     color: "purple",
//     features: [
//       "All Pro Features",
//       "Unlimited Custom domains",
//       "99.99% Uptime SLA",
//       "SAML & SSO Integration",
//       "Dedicated Account Manager",
//       "24/7 Phone Support",
//     ],
//     button: {
//       text: "Contact us",
//       link: "/contact",
//     },
//   },
// ];
---

<Sectionhead>
  <Fragment slot="title">{pricing.heading}</Fragment>
  <Fragment slot="desc">
    {pricing.subHeading}
  </Fragment>
</Sectionhead>

<div class="grid md:grid-cols-3 gap-10 mx-auto max-w-screen-lg mt-12">
  {pricing.plans.map((item) => <Pricing plan={item} />)}
</div>
